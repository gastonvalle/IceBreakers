
<!-- Player URL => {{playerUrl}} -->
<mat-card>
  <ng-container *ngIf="okForm; else MessageErrorURL">

 <button mat-raised-button style="margin: 10px" color="primary" class="button" (click) = "isAddPlayer = true; isPlay = false">Alta Jugador</button>
 
 <button mat-raised-button style="margin: 10px" color="primary" class="button" (click) =  "isPlay = true; isAddPlayer = false; loadInfoPlayers()">Jugar</button>
 
<br>
<ng-container *ngIf="isAddPlayer">

  <ng-container *ngIf="!isPlayerCreated; else MessageCreatePlayer"> 
    <mat-card-header>Alta jugador</mat-card-header>
    <br>
  <div>
    <mat-form-field>
    <mat-label for="namePlayer">
      Pon tu nombre
    </mat-label>
    <input  matInput id="namePlayer" type="text" [(ngModel)]="namePlayer" >
  </mat-form-field>
  <br>
  <mat-form-field>
    <mat-label for="imageUrl">
      Pon la imagen que te represente
    </mat-label>
    <input  matInput id="imageUrl" type="text" [(ngModel)]="imageUrl" >
  </mat-form-field>
  </div>
  <button mat-raised-button color="primary" class="button" (click) = "createPlayer()">Crear un nuevo Jugador</button>
</ng-container>

 <ng-template #MessageCreatePlayer>
    <p>Jugador creado correctamente</p>
  </ng-template>


</ng-container>

<ng-container *ngIf="isPlay">

<p>A jugar</p>


<table>
  <form [formGroup]="form" (ngSubmit)="submitWhois()" >
  <tr>
    <th>Imagen</th>
    <th>¿Quien es?</th>
  </tr>
  <tr *ngFor="let player of listOfPlayers">
    <td>{{player.imageUrl}}</td>
    <td>
    <select formControlName="whois" class="form-control">
      <option value="">Elige una opción</option>
      <option *ngFor="let playername of listOfPlayers" value="{{player.id}}/{{playername.id}}">{{playername.namePlayer}}</option>
    </select>
    </td>
    <td>
      <button mat-raised-button color="primary" class="button" type="submitWhois">Enviar</button>
    </td>
    </tr>
  </form>
</table>

<br>
 
</ng-container>

</ng-container>

<ng-template #MessageErrorURL>
  <p>URL Erronea</p>
</ng-template>


</mat-card>
